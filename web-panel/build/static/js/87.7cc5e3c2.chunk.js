(window["webpackJsonpgogo-react"]=window["webpackJsonpgogo-react"]||[]).push([[87],{1066:function(e,t,a){"use strict";a.r(t);var n=a(5),s=a.n(n),r=a(27),l=a(256),c=a(257),o=a(259),i=a(258),u=a(260),m=a(1),d=a.n(m),p=a(353),h=a(284),g=a(285),f=a(276),E=a(385),S=a(312),b=a(254),O=a(265),v=a(262),y=a(287),k=a.n(y),P=a(324),C=(a(270),a(278),a(272)),N=a(271),x=a(255),D=a(39),w=a(40),z=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).dataListRender=Object(r.a)(s.a.mark(function e(){var t,a,r,l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.state.isLoading=!0,t=w.a.GET_CUSTOMERS+"?page_no="+"".concat(n.state.currentPage)+"&limit="+"".concat(n.state.selectedPageSize)+"&order_by="+"".concat(n.state.selectedOrderOption.column)+"&days_limit="+"".concat(n.state.daysStatus)+"&amount_limit="+"".concat(n.state.amountStatus)+"&status="+"".concat(n.state.filterStatus)+"&keyword="+"".concat(n.state.searchKeyword),e.next=4,Object(D.a)("GET",t);case 4:200==(a=e.sent).status?(n.setState({totalPage:a.data.totalPages,items:a.data.docs,totalItemCount:a.data.totalDocs}),r=a.data||{},n.setState({pageSize:r.limit,users:r,totalDocs:a.data.totalDocs,totalPages:a.data.totalPages,activePage:r.page||1}),l=[],r.docs.map(function(e,t){var a={};a.username=e.username,a.phone=e.phone,a.email=e.email,a.status=e.is_active,l.push(a)}),n.setState({csvData:l})):O.a.error(a.message,"Error!",3e3),n.setState({isLoading:!0});case 7:case"end":return e.stop()}},e)})),n.changeOrderBy=function(e){n.setState({selectedOrderOption:n.state.orderOptions.find(function(t){return t.column===e})},function(){return n.dataListRender()})},n.onSearchKey=function(e){n.setState({searchKeyword:e.target.value.toLowerCase()}),"Enter"===e.key&&n.dataListRender()},n.changeStatus=function(e){n.setState({filterStatus:e},function(){return n.dataListRender()})},n.changeDaysStatus=function(e){console.log(e),n.setState({daysStatus:e},function(){return n.dataListRender()})},n.changeAmountStatus=function(e){n.setState({amountStatus:e},function(){return n.dataListRender()})},n.changePageSize=function(e){n.setState({selectedPageSize:e,currentPage:1},function(){return n.dataListRender()})},n.onChangePage=function(e){n.setState({currentPage:e},function(){return n.dataListRender()})},n.onResetFilters=function(){n.setState({selectedOrderOption:{column:"createdAt",label:"Created On"},selectedPageSize:10,currentPage:1,filterStatus:"",daysStatus:"",amountStatus:""},function(){return n.dataListRender()})},n.onChangeItemStatus=function(){var e=Object(r.a)(s.a.mark(function e(t,a,r){var l,c,o,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=1==r?0:1,(c=new FormData).append("status",l),o=w.a.UPDATE_CUSTOMER_STATUS+"/"+t,e.next=6,Object(D.a)("PUT",o,c);case 6:200==(i=e.sent).status?(n.dataListRender(),O.a.success(i.message,"Success!",3e3)):O.a.error(i.message,"Error!",3e3);case 8:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),n.onDeleteItem=function(){var e=Object(r.a)(s.a.mark(function e(t,a){var r,l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=w.a.DELETE_CUSTOMER+"/"+t,e.next=3,Object(D.a)("DELETE",r);case 3:200==(l=e.sent).status?(n.dataListRender(),O.a.success(l.message,"Success!",3e3)):O.a.error(l.message,"Error!",3e3);case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),n.mouseTrap=a(282),n.state={displayOpts:{statusOptions:!0,daysOptions:!0,amountOptions:!0,pageSizes:!0},orderOptions:[{column:"createdAt",label:"Created On"},{column:"user_name",label:"User Name"},{column:"email",label:"Email"},{column:"status",label:"Status"}],selectedOrderOption:{column:"createdAt",label:"Created On"},pageSizes:[10,20,30,50,100],selectedPageSize:10,dropdownSplitOpen:!1,searchPlaceholder:"Search by User Name, Email, Phone, Address",searchKeyword:"",daysStatus:"",amountStatus:"",filterStatus:"",items:[],currentPage:1,totalItemCount:0,totalPage:1,selectedItems:[],lastChecked:null,isLoading:!1},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.dataListRender()}},{key:"componentWillUnmount",value:function(){this.mouseTrap.unbind("ctrl+a"),this.mouseTrap.unbind("command+a"),this.mouseTrap.unbind("ctrl+d"),this.mouseTrap.unbind("command+d")}},{key:"render",value:function(){var e=this,t=this.props.match,a=(this.state.currentPage-1)*this.state.selectedPageSize+1,n=this.state.currentPage*this.state.selectedPageSize;return this.state.isLoading?d.a.createElement(m.Fragment,null,d.a.createElement("div",null,d.a.createElement(p.a,{color:"primary",size:"xs",style:{float:"right"}},d.a.createElement(P.CSVLink,{data:this.state.csvData&&this.state.csvData||[],filename:"user-list.csv"},d.a.createElement(x.a,{id:"pages.download"})))),d.a.createElement("div",{className:"disable-text-selection"},d.a.createElement(N.a,{heading:"menu.customers",match:t,displayOpts:this.state.displayOpts,orderOptions:this.state.orderOptions,pageSizes:this.state.pageSizes,selectedPageSize:this.state.selectedPageSize,selectedOrderOption:this.state.selectedOrderOption,searchKeyword:this.state.searchKeyword,searchPlaceholder:this.state.searchPlaceholder,filterFromDate:this.state.filterFromDate,filterToDate:this.state.filterToDate,filterStatus:this.state.filterStatus,daysStatus:this.state.daysStatus,amountStatus:this.state.amountStatus,onSearchKey:this.onSearchKey,onChangeFromDate:this.onChangeFromDate,onChangeToDate:this.onChangeToDate,changeOrderBy:this.changeOrderBy,changeStatus:this.changeStatus,changeDaysStatus:this.changeDaysStatus,changeAmountStatus:this.changeAmountStatus,changePageSize:this.changePageSize,onResetFilters:this.onResetFilters,totalItemCount:this.state.totalItemCount,startIndex:a,endIndex:n}),d.a.createElement(h.a,null,d.a.createElement(b.a,{xxs:"12"},d.a.createElement(g.a,{className:"mb-4"},d.a.createElement(f.a,null,d.a.createElement(E.a,{hover:!0},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"#"),d.a.createElement("th",null,"Image"),d.a.createElement("th",null,"User Name"),d.a.createElement("th",null,"User Code"),d.a.createElement("th",null,"Email"),d.a.createElement("th",null,"Phone"),d.a.createElement("th",null,"Status"),d.a.createElement("th",null,"Created On"))),d.a.createElement("tbody",null,this.state.items.map(function(t,a){return d.a.createElement("tr",{key:a},d.a.createElement("td",null,e.state.selectedPageSize*(e.state.currentPage-1)+a+1),d.a.createElement("td",null,d.a.createElement("img",{alt:t.username,src:t.user_image_thumb_url,className:"img-thumbnail border-0 list-thumbnail align-self-center xsmall"})),d.a.createElement("td",null,d.a.createElement(v.b,{to:{pathname:"edit-customer/".concat(t._id),state:{pageIndex:e.state.currentPage}}},t.username)),d.a.createElement("td",null,t.register_id),d.a.createElement("td",null,t.email),d.a.createElement("td",null,t.phone),d.a.createElement("td",null,d.a.createElement(S.a,{color:t.is_active?"outline-success":"outline-danger",pill:!0},t.is_active?d.a.createElement(x.a,{id:"label.active"}):d.a.createElement(x.a,{id:"label.inactive"}))),d.a.createElement("td",null,k()(t.createdAt).format("lll")))}),0==this.state.items.length&&d.a.createElement("tr",null,d.a.createElement("td",{colSpan:"8",className:"text-center"},"No data available.")))),d.a.createElement(C.a,{currentPage:this.state.currentPage,totalPage:this.state.totalPage,onChangePage:function(t){return e.onChangePage(t)}}))))))):d.a.createElement("div",{className:"loading"})}}]),t}(m.Component);t.default=z},254:function(e,t,a){"use strict";a.d(t,"a",function(){return l}),a.d(t,"b",function(){return c});var n=a(1),s=a.n(n),r=a(283),l=function(e){return s.a.createElement(r.a,Object.assign({},e,{widths:["xxs","xs","sm","md","lg","xl","xxl"]}))},c=function(e){return s.a.createElement("div",{className:"separator ".concat(e.className)})}},261:function(e,t,a){"use strict";var n=a(1),s=a.n(n),r=a(274),l=a(275),c=a(262),o=a(255),i=function(e){return s.a.createElement(o.a,{id:"menu.".concat(e)})},u=function(e,t,a){return 0===a?"":e.split(t)[0]+t},m=function(e){var t=e.match.path.substr(1),a=t.split("/");return a[a.length-1].indexOf(":")>-1&&(a=a.filter(function(e){return-1===e.indexOf(":")})),s.a.createElement(n.Fragment,null,s.a.createElement(r.a,{className:"pt-0 breadcrumb-container d-none d-sm-block d-lg-inline-block"},a.map(function(e,n){return s.a.createElement(l.a,{key:n,active:a.length===n+1},a.length!==n+1?s.a.createElement(c.c,{to:"/"+u(t,e,n)},i(e)):i(e))})))};t.a=function(e){var t=e.heading,a=e.match;return s.a.createElement(n.Fragment,null,t&&s.a.createElement("h1",null,s.a.createElement(o.a,{id:t})),s.a.createElement(m,{match:a}))}},271:function(e,t,a){"use strict";var n=a(256),s=a(257),r=a(259),l=a(258),c=a(260),o=a(1),i=a.n(o),u=a(284),m=a(353),d=a(1056),p=a(1137),h=a(1051),g=a(1052),f=a(1053),E=a(444),S=a(421),b=a(264),O=a(262),v=a(254),y=a(261),k=a(255),P=[{column:"",label:"All"},{column:"1",label:"Active"},{column:"0",label:"Inactive"}],C=[{value:"",label:"Select"},{value:"1",label:"Last 30 Days"},{value:"2",label:"Last 60 Days"},{value:"3",label:"Last 90 Days"}],N=[{value:"",label:"Select"},{value:"20",label:"20 K"},{value:"40",label:"40 K"}],x=[{value:"",label:"Select"},{value:"",label:"All"},{value:"2",label:"Passed"},{value:"1",label:"Current"}],D=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this))).togglePopover=function(){a.setState(function(e){return{popoverOpen:!e.popoverOpen}})},a.showPopover=function(){a.setState(function(e){return{popoverOpen:!0}})},a.hidePopover=function(){a.setState(function(e){return{popoverOpen:!1}})},a.toggleDisplayOptions=function(){a.setState(function(e){return{displayOptionsIsOpen:!e.displayOptionsIsOpen}})},a.toggleSplit=function(){a.setState(function(e){return{dropdownSplitOpen:!e.dropdownSplitOpen}})},a.state={popoverOpen:!1,dropdownSplitOpen:!1,displayOptionsIsOpen:!1,selectedStatusOption:P[0],selectedDaysOption:C[0],selectedAmountOption:N[0],selectedOrderStatus:x[0]},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=(this.props.intl.messages,this.props),a=t.heading,n=t.match,s=t.addNewItemRoute,r=t.displayOpts,l=t.orderOptions,c=t.pageSizes,o=t.selectedPageSize,b=t.selectedOrderOption,D=t.searchKeyword,w=t.searchPlaceholder,z=t.filterFromDate,I=t.filterToDate,j=(t.filterStatus,t.onSearchKey),L=t.onChangeFromDate,T=t.onChangeToDate,R=t.changeOrderBy,A=t.changeStatus,_=t.changeDaysStatus,F=t.changeAmountStatus,K=t.changeOrderStatus,U=t.changePageSize,B=t.onResetFilters,M=t.onSearchFilters,G=t.totalItemCount,J=t.startIndex,V=t.endIndex,W=(t.daysStatus,t.amountStatus,this.state.displayOptionsIsOpen);return i.a.createElement(u.a,null,i.a.createElement(v.a,{xxs:"12"},i.a.createElement("div",{className:"mb-2"},i.a.createElement("h1",null,i.a.createElement(k.a,{id:a})),r&&r.addNewBtn&&i.a.createElement("div",{className:"text-zero top-right-button-container"},i.a.createElement(O.c,{to:s},i.a.createElement(m.a,{color:"primary",size:"lg",className:"top-right-button"},i.a.createElement(k.a,{id:"pages.add-new"})))),i.a.createElement(y.a,{match:n})),r&&(r.addNewBtn||r.orderOptions||r.pageSizes||r.keyword||r.fromDate||r.toDate)&&i.a.createElement("div",{className:"mb-2"},i.a.createElement(d.a,{isOpen:W,className:"d-md-block",id:"displayOptions"},i.a.createElement("div",{className:"d-block d-md-inline-block pt-1"},r&&r.orderOptions&&i.a.createElement(p.a,{className:"mr-1 float-md-left btn-group mb-1"},i.a.createElement(h.a,{caret:!0,color:"outline-dark",size:"xs"},i.a.createElement(k.a,{id:"pages.orderby"}),b.label),i.a.createElement(g.a,null,l.map(function(e,t){return i.a.createElement(f.a,{key:t,onClick:function(){return R(e.column)}},e.label)}))),r&&r.keyword&&i.a.createElement("div",{className:"search-sm d-inline-block float-md-left mr-1 mb-1 align-top"},i.a.createElement("input",{type:"text",name:"keyword",id:"search",value:D,placeholder:"Type and enter...",onChange:function(t){j(t),e.hidePopover()},onKeyPress:function(e){return j(e)},onFocus:this.showPopover,onBlur:this.hidePopover}),r&&(r.keyword||r.daysOptions||r.orderStatus||r.amountOptions||r.fromDate||r.toDate)&&i.a.createElement(m.a,{outline:!0,color:"danger",className:"mb-2 btn-xs search_btn",onClick:function(){M()}})," ",i.a.createElement(E.a,{className:"search-popover",placement:"top",isOpen:this.state.popoverOpen,target:"search"},i.a.createElement(S.a,null,w))),r&&r.fromDate&&i.a.createElement("div",{className:"filter-date-sm d-inline-block float-md-left mr-1 mb-1 align-top"},i.a.createElement("input",{type:"date",name:"fromdate",id:"fromdate",value:z,placeholder:"dd/mm/yyyy",onChange:function(e){return L(e)}})),r&&r.toDate&&i.a.createElement("div",{className:"filter-date-sm d-inline-block float-md-left mr-1 mb-1 align-top"},i.a.createElement("input",{type:"date",name:"todate",id:"todate",value:I,placeholder:"dd/mm/yyyy",onChange:function(e){return T(e)}})),r&&r.daysOptions&&i.a.createElement(p.a,{className:"mr-1 float-md-left btn-group mb-1"},i.a.createElement(h.a,{caret:!0,color:"outline-dark",size:"xs"},i.a.createElement(k.a,{id:"pages.status"}),this.state.selectedDaysOption.label),i.a.createElement(g.a,null,C.map(function(t,a){return i.a.createElement(f.a,{key:a,onClick:function(){e.setState({selectedDaysOption:C[a]}),_(t.value)}},t.label)}))),r&&r.amountOptions&&i.a.createElement(p.a,{className:"mr-1 float-md-left btn-group mb-1"},i.a.createElement(h.a,{caret:!0,color:"outline-dark",size:"xs"},i.a.createElement(k.a,{id:"pages.status"}),this.state.selectedAmountOption.label),i.a.createElement(g.a,null,N.map(function(t,a){return i.a.createElement(f.a,{key:a,onClick:function(){e.setState({selectedAmountOption:N[a]}),F(t.value)}},t.label)}))),r&&r.orderStatus&&i.a.createElement(p.a,{className:"mr-1 float-md-left btn-group mb-1"},i.a.createElement(h.a,{caret:!0,color:"outline-dark",size:"xs"},i.a.createElement(k.a,{id:"pages.status"}),this.state.selectedOrderStatus.label),i.a.createElement(g.a,null,x.map(function(t,a){return i.a.createElement(f.a,{key:a,onClick:function(){e.setState({selectedOrderStatus:x[a]}),K(t.value)}},t.label)}))),r&&r.statusOptions&&i.a.createElement(p.a,{className:"mr-1 float-md-left btn-group mb-1"},i.a.createElement(h.a,{caret:!0,color:"outline-dark",size:"xs"},i.a.createElement(k.a,{id:"pages.status"}),this.state.selectedStatusOption.label),i.a.createElement(g.a,null,P.map(function(t,a){return i.a.createElement(f.a,{key:a,onClick:function(){e.setState({selectedStatusOption:P[a]}),A(t.column)}},t.label)}))),r&&(r.keyword||r.daysOptions||r.orderStatus||r.amountOptions||r.fromDate||r.toDate)&&i.a.createElement(m.a,{outline:!0,color:"danger",className:"mb-2 btn-xs",onClick:function(){e.setState({selectedOrderStatus:x[0]}),e.setState({selectedStatusOption:P[0]}),B()}},i.a.createElement(k.a,{id:"button.reset"}))),r&&r.pageSizes&&i.a.createElement("div",{className:"float-md-right pt-1"},i.a.createElement("span",{className:"text-muted text-small mr-1"},"".concat(J,"-").concat(V," of ").concat(G," ")),i.a.createElement(p.a,{className:"d-inline-block"},i.a.createElement(h.a,{caret:!0,color:"outline-dark",size:"xs"},o),i.a.createElement(g.a,{right:!0},c.map(function(e,t){return i.a.createElement(f.a,{key:t,onClick:function(){return U(e)}},e)})))))),i.a.createElement(v.b,{className:"mb-5"})))}}]),t}(o.Component);t.a=Object(b.d)(D)},272:function(e,t,a){"use strict";var n=a(256),s=a(257),r=a(259),l=a(258),c=a(260),o=a(1),i=a.n(o),u=a(254),m=a(1054),d=a(1055),p=a(288),h=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"onChangePage",value:function(e){this.props.onChangePage(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.totalPage,n=void 0===a?0:a,s=t.currentPage,r=void 0===s?1:s,l=t.numberLimit,c=void 0===l?5:l,o=t.lastIsActive,h=void 0===o||o,g=t.firstIsActive,f=void 0===g||g,E=1,S=c;c>n?(E=1,S=n):r<=parseInt(c/2,10)?(E=1,S=c):r+parseInt(c/2,10)<=n?(E=r-parseInt(c/2,10),S=r+parseInt(c/2,10)):(E=n-(c-1),S=n);for(var b=[],O=E=0===E?1:E;O<=S;O++)b.push(O);var v=r<=1?"disabled":"",y=r>=n?"disabled":"",k=r<=1?"disabled":"",P=r>=n?"disabled":"";return n>1?i.a.createElement(u.a,{xxs:"12",className:"mt-3"},i.a.createElement(m.a,{className:"pagination justify-content-center"},f&&i.a.createElement(d.a,{className:"page-item ".concat(v)},i.a.createElement(p.a,{className:"page-link first",onClick:function(){return e.onChangePage(1)}},i.a.createElement("i",{className:"simple-icon-control-start"}))),i.a.createElement(d.a,{className:"page-item ".concat(k)},i.a.createElement(p.a,{className:"page-link prev",onClick:function(){return e.onChangePage(r-1)}},i.a.createElement("i",{className:"simple-icon-arrow-left"}))),b.map(function(t){return i.a.createElement(d.a,{key:t,className:"page-item ".concat(r===t&&"active")},i.a.createElement(p.a,{className:"page-link",onClick:function(){return e.onChangePage(t)}},t))}),i.a.createElement(d.a,{className:"page-item ".concat(P)},i.a.createElement(p.a,{className:"page-link next",onClick:function(){return e.onChangePage(r+1)}},i.a.createElement("i",{className:"simple-icon-arrow-right"}))),h&&i.a.createElement(d.a,{className:"page-item ".concat(y)},i.a.createElement(p.a,{className:"page-link last",onClick:function(){return e.onChangePage(n)}},i.a.createElement("i",{className:"simple-icon-control-end"}))))):i.a.createElement(u.a,{xxs:"12",className:"mt-2"})}}]),t}(i.a.Component);t.a=h}}]);
//# sourceMappingURL=87.7cc5e3c2.chunk.js.map